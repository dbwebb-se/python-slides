<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>kmom04</title>

    <link href="https://fonts.googleapis.com/css?family=Oswald|Roboto+Condensed|Roboto+Mono" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div id="presentation" class="presentation"></div>

    <div id="slide-container" class="slide-container">
        <div class="slide">
            <h1>kmom04 Testning del 2</h1>
            <p>Mer om tester och testmetoder</p>
        </div>


        <div class="slide">
            <h1>Repetition - testning del 1</h1>
            <ul>
                <li>Kvalitetssäkring av programmet</li>
                <li>Underlättar vid underhåll/uppdatering/refaktorering</li>
                <li>Enhetstest, testar en enhet t ex funktion</li>
                <li>Testprogrammet kan köras om och om igen och schemaläggas</li>
                <li>Assertmetoder validerar resultatet i testmetoden </li>
            </ul>
        </div>


        <div class="slide fade-in">
            <h1>Testdriven utveckling</h1>
            <p>Test Driven development (TDD)</p>
            <img src="img/tdd_cycle.png" title="TDD" style="width: 90%;padding-top:1em;">
            <pre>Källa: ISD part of intergroup</pre>
        </div>


        <div class="slide fade-in">
            <h1>Beteendedriven utveckling</h1>
            <p>Behavior Driven development (BDD)</p>
            <p>BDD-cykeln är mycket lik TDD-cykeln. Vi börjar med att skapa ett acceptanstest, 
                sedan skriver vi kod som som gör att testet blir godkänt. Vi upprepar denna 
                cykel tills produkten är klar.
            </p>
        </div>


        <div class="slide fade-in">
            <h1>Skillnad TDD och BDD, klass</h1>
            <img src="img/counter.png" title="klassen Counter" style="width: 90%;padding-top:1em;">
        </div>


        <div class="slide fade-in">
            <h1>Skillnad TDD och BDD, testfall</h1>
            <p>Vi har klassen <i>Counter</i> med en räknare <i>count</i> som startar på 0. 
                Instansmetoden <i>tick()</i> räknar upp <i>count</i> med 1.</p>
            <p></p>
            <img src="img/tdd.png" title="Skillnad TDD & BDD" style="width: 49%;height:200px;">
            <img src="img/bdd.png" title="Skillnad TDD & BDD" style="width: 49%;height:200px;">
        </div>


        <div class="slide fade-in">
            <h1>Att skriva en story, BDD</h1>
            <ol>
                <li>Som en [Roll] </li>                   
                <li>Vill jag kunna [Funktion] </li>
                <li>Så att jag kan göra/få [Nytta] </li>
            </ol>
            <p><i>Som</i> en användare <i>Vill jag kunna</i> logga in med användarnamn och 
                lösenord <i>Så att jag kan</i> komma åt systemet. </p>
        </div>


        <div class="slide fade-in">
            <h1>Att skriva ett testfall BDD</h1>
            <ol>
                <li>Arrange (given, givet), förbered inför testfallet</li>
                <li>Act (when, då), gör ditt test</li>
                <li>Assert (then, när), validera utfallet av ditt test</li>
            </ol>
        </div>


        <div class="slide fade-in">
            <h1>Att skriva ett testfall BDD - exempel</h1>
            <p><strong>Story: </strong><i>Som</i> en användare <i>Vill jag kunna</i> logga in med användarnamn och 
                lösenord <i>Så att jag kan</i> komma åt systemet. </p>
            <p></p>
            <p><i>Givet:</i> Användarnamn och lösenord är korrekt <br>
                <i>När:</i> Användaren anger användarnamn och lösenord och klickar på knappen “logga in” <br>
                <i>Då:</i> Loggas användaren in
            </p>
            <p>Eller <i>Givet:</i> Lösenordet är felaktigt <i>Då</i> visas ett felmeddelande</p>
        </div>


        <div class="slide fade-in">
            <h1>Exempel, Yahtzee1 MIN_ROLL_VALUE/MAX_ROLL_VALUE</h1>
            <p><i>Krav:</i> Die konstruktorn; om värdet &gt MAX_ROLL_VALUE, sätt värdet till MAX_ROLL_VALUE <br>
                och om värdet &lt MIN_ROLL_VALUE, sätt värdet till MIN_ROLL_VALUE
            </p>
            <p><i>Testkrav:</i> skapa ett Die objekt med ett otillåtet värde
            </p>
            <p><i>Testfall:<br></i>Arrange & act: skapa ett Die objekt Die(100) och gör assertEquals med MAX_ROLL_VALUE</p>
            <p><i>Testfall:<br></i>Arrange & act: skapa ett Die objekt Die(0) eller Die(-1) och gör assertEquals med MIN_ROLL_VALUE</p>
        </div>

        <div class="slide fade-in">
            <h1>Exempel, Yahtzee1 skapa tärning utan argument</h1>
            <p><i>Krav:</i> Die konstruktorn; Om man inte skickar med ett argument ska det slumpas fram ett värde till tärningen.
            </p>
            <p><i>Testkrav:</i> skapa ett Die objekt utan argument
            </p>
            <p><i>Dåligt testfall:<br></i>Arrange & act: skapa ett Die objekt Die() och assertIsInstance(Die) eller assertNotNone()</p>
            <p><i>Bra testfall:<br></i>Arrange & act: skapa ett Die objekt Die() och assertLessEqual med MAX_ROLL_VALUE och assertGreaterEqual med MIN_ROLL_VALUE</p>
        </div>


        <div class="slide fade-in">
            <h1>Exempel assertIsInstance</h1>
            <p>Antag exemplet med Yahtzeeklassen SameValueRule där klasserna Ones, Twos osv ärver från SameValueRule. Antag en lista, <i>taken_sameValueRules</i> med objekt av SameValueRule.
            </p>
            <p><i>Testkrav:</i> Listan innehåller objektet <i>Ones</i>. Verifiera att ettorna är tagna.
            </p>
            <p><i>Testfall:<br></i>Arrange & act: skapa ett Ones objekt Ones() och lägg i listan <i>taken_sameValueRules</i> och gör assertIsInstance(Ones), assertNotIsInstance(Twos) etc</p>
        </div>


        <div class="slide fade-in">
            <h1>Kodning</h1>
            <h2>Del 1, enstaka testfall</h2>
            <h2>&</h2>
            <h2>Del 2, Testfall med exception</h2>
        </div>


        <div class="slide fade-in">
            <h1>PAUS</h1>
    
            <div data-time="10:00" class="timer"></div>
        </div>    


        <div class="slide fade-in">
            <h1>Mockning - i enhetstester</h1>
            <ol>
                <li>Beroende till annat som databas eller slumptal</li>
                <li>Operativsystemberoenden</li>
                <li>För enkelhet, du bestämmer hur omgivningen ska reagera</li>
            </ol>
        </div>


        <div class="slide fade-in">
            <h1>Mockning i unittest</h1>
            <ol>
                <li>Mock</li>
                <li>MagicMock, subklass till Mock mer automatisk med vissa förskapade metoder.</li>
            </ol>
        </div>


        <div class="slide fade-in">
            <h1>Mock</h1>
            <ol>
                <li>self.owner2 = mock.Mock()</li>
                <li>self.owner2.name = "Marie"</li>
                <li>self.owner2.get_accounts.side_effect = EmptyAccountListException</li>
                <li>self.owner1 = mock.Mock()</li>
                <li>self.owner1.name = "Andreas"</li>
                <li>self.owner1.side_effect = ["933838339", 2] # SSN and number of accounts</li>
            </ol>
        </div>


        <div class="slide fade-in">
            <h1>MagicMock</h1>
            <ol>
                <li>m = mock.MagicMock()</li>
                <li>m.get_ssn.side_effect = "933838339"</li>
                <li>m.get_accounts.side_effect = 2</li>
            </ol>
        </div>


        <div class="slide fade-in">
            <h1>Kodning del 3, Mockning - överkurs</h1>
        </div>

    </div>

    <script type="text/javascript" src="slider.js"></script>
</body>
</html>
